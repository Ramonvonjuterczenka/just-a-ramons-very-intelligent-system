<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>J.A.R.V.I.S. Interface</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&display=swap" rel="stylesheet">
</head>

<body>

    <div class="background-grid"></div>

    <header class="top-hud">
        <div class="hud-left">SYS.CORE: <span class="status-ok">ONLINE</span></div>
        <div class="hud-center">J.A.R.V.I.S.</div>
        <div class="hud-right" id="config-status">CONFIG: LOADING...</div>
    </header>

    <main class="center-console">
        <div class="arc-container" id="mic-btn">
            <div class="arc-reactor">
                <div class="core"></div>
                <div class="ring outer-ring"></div>
                <div class="ring inner-ring"></div>
            </div>
            <div class="status-text" id="status-text">SYSTEM STANDBY</div>
        </div>
    </main>

    <section class="log-panel">
        <div class="log-header">COMMUNICATION LOG
            <div>
                <button id="settings-btn">SETTINGS</button>
                <button id="clear-log">CLEAR</button>
            </div>
        </div>
        <div class="log-content" id="log-content"></div>
        <div class="input-container">
            <input type="text" id="text-input" placeholder="Enter override command or text query..." />
            <button id="send-btn">SEND</button>
        </div>
    </section>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal hidden">
        <div class="modal-content">
            <h2>SYSTEM CONFIGURATION</h2>

            <div class="form-group">
                <label for="llm-select">Cognitive Engine (LLM):</label>
                <select id="llm-select">
                    <option value="mock">MOCK (Local Testing)</option>
                    <option value="ollama">OLLAMA (Local AI)</option>
                    <option value="gemini">GEMINI (Cloud AI)</option>
                </select>
            </div>

            <div class="form-group">
                <label for="model-select">AI Model:</label>
                <select id="model-select">
                    <option value="" disabled>Select a model...</option>
                </select>
            </div>

            <div class="form-group">
                <label for="tts-select">Vocal Output (TTS):</label>
                <select id="tts-select">
                    <option value="mock">MOCK (Text Only)</option>
                    <option value="browser">BROWSER (Speech API)</option>
                </select>
            </div>

            <div class="form-group" id="voice-group" style="display: none;">
                <label for="voice-select">Browser Voice:</label>
                <div style="display: flex; gap: 10px; width: 100%;">
                    <select id="voice-select" style="flex: 1;">
                        <!-- Populated by JS -->
                    </select>
                    <button id="test-voice-btn" class="secondary"
                        style="padding: 5px 15px; font-size: 12px; white-space: nowrap;">TEST VOICE</button>
                </div>
            </div>

            <div class="form-group" style="flex-direction: row; gap: 10px; align-items: center;">
                <button id="test-conn-btn" class="secondary" style="padding: 5px 10px; font-size: 12px;">TEST
                    CONNECTION</button>
                <span id="test-conn-result" style="font-size: 12px; color: #a4b5c4;"></span>
            </div>

            <div class="form-group" id="gemini-key-group">
                <label for="gemini-key">Google Gemini API Key:</label>
                <input type="password" id="gemini-key" placeholder="Enter API Key (sk-...)" />
            </div>

            <div class="modal-actions">
                <button id="save-settings-btn">SAVE & REBOOT</button>
                <button id="close-settings-btn" class="secondary">CANCEL</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>